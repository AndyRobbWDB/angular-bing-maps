function drawingToolsDirective(){"use strict";function n(n,i,e,t){if("undefined"==typeof DrawingTools)return console.log("You did not include DrawingToolsModule.js. Please include this script and try again"),void 0;var o={events:{drawingEnded:function(i){n.onShapeChange({shapes:i}),n.$apply()}}};e.hasOwnProperty("withToolbar")&&(o.toolbarContainer=i[0]),n.drawingManager=new DrawingTools.DrawingManager(t.map,o),n.$watch("drawThisShape",function(i){"none"===i?n.drawingManager.setDrawingMode(null):n.drawingManager.setDrawingMode(i)})}function i(){}return{link:n,controller:i,restrict:"EA",scope:{onShapeChange:"&",drawThisShape:"="},require:"^bingMap"}}function bingMapDirective(){"use strict";return{template:"<div ng-transclude></div>",restrict:"EA",transclude:!0,scope:{credentials:"=",center:"=?",zoom:"=?",mapType:"=?"},controller:function(n,i){this.map=new Microsoft.Maps.Map(i[0],{credentials:n.credentials}),n.map=this.map,n.$watch("center",function(i){n.map.setView({animate:!0,center:i})}),n.$watch("zoom",function(i){n.map.setView({animate:!0,zoom:i})}),n.$watch("mapType",function(i){n.map.setView({animate:!0,mapTypeId:i})})}}}function polygonDirective(){"use strict";function n(n,i,e,t){function o(){r=[];for(var i=0;i<n.locations.length;i++)r.push(new Microsoft.Maps.Location(n.locations[i].latitude,n.locations[i].longitude))}function a(){n.options||(n.options={}),n.fillColor&&(n.options.fillColor=Microsoft.Maps.Color.fromHex(n.fillColor)),n.strokeColor&&(n.options.strokeColor=Microsoft.Maps.Color.fromHex(n.strokeColor))}var r=[];o();var s=new Microsoft.Maps.Polygon(r);t.map.entities.push(s),n.$watch("options",function(n){s.setOptions(n)}),n.$watch("locations",function(){o(),s.setLocations(r)}),n.$watch("fillColor",a),n.$watch("strokeColor",a)}return{link:n,template:"<div ng-transclude></div>",restrict:"EA",transclude:!0,scope:{options:"=?",locations:"=",fillColor:"=?",strokeColor:"=?"},require:"^bingMap"}}function pushpinDirective(){"use strict";function n(n,i,e,t){function o(){n.lat&&n.lng&&a.setLocation(new Microsoft.Maps.Location(n.lat,n.lng))}var a=new Microsoft.Maps.Pushpin;o(),t.map.entities.push(a),n.$watch("lat",o),n.$watch("lng",o),n.$watch("options",function(n){a.setOptions(n)}),Microsoft.Maps.Events.addHandler(a,"dragend",function(i){var e=i.entity.getLocation();n.lat=e.latitude,n.lng=e.longitude,n.$apply()})}return{link:n,template:"<div ng-transclude></div>",restrict:"EA",transclude:!0,scope:{options:"=?",lat:"=",lng:"="},require:"^bingMap"}}function tileLayerDirective(){"use strict";function n(n,i,e,t){function o(){a=new Microsoft.Maps.TileSource({uriConstructor:n.source}),n.options?angular.extend(n.options,{mercator:a}):n.options={mercator:a},r?r.setOptions(n.options):(r=new Microsoft.Maps.TileLayer(n.options),t.map.entities.push(r))}var a,r;n.$watch("options",o),n.$watch("source",o)}return{link:n,template:"<div ng-transclude></div>",restrict:"EA",transclude:!0,scope:{options:"=?",source:"="},require:"^bingMap"}}!function(){angular.module("angularBingMaps.config",[]).value("angularBingMaps.config",{debug:!0}),angular.module("angularBingMaps.directives",[]),angular.module("angularBingMaps.filters",[]),angular.module("angularBingMaps.services",[]),angular.module("angularBingMaps",["angularBingMaps.config","angularBingMaps.directives","angularBingMaps.filters","angularBingMaps.services"])}(),angular.module("angularBingMaps.directives").directive("drawingTools",drawingToolsDirective),angular.module("angularBingMaps.directives").directive("bingMap",bingMapDirective),angular.module("angularBingMaps.directives").directive("polygon",polygonDirective),angular.module("angularBingMaps.directives").directive("pushpin",pushpinDirective),angular.module("angularBingMaps.directives").directive("tileLayer",tileLayerDirective);
