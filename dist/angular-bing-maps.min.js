function drawingToolsDirective(){"use strict";function n(n,e,a,i){if("undefined"==typeof DrawingTools)return console.log("You did not include DrawingToolsModule.js. Please include this script and try again"),void 0;var t={events:{drawingEnded:function(e){n.onShapeChange({shapes:e}),n.$apply()}}};a.hasOwnProperty("withToolbar")&&(t.toolbarContainer=e[0]),n.drawingManager=new DrawingTools.DrawingManager(i.map,t),n.$watch("drawThisShape",function(e){"none"===e?n.drawingManager.setDrawingMode(null):n.drawingManager.setDrawingMode(e)})}function e(){}return{link:n,controller:e,restrict:"EA",scope:{onShapeChange:"&",drawThisShape:"="},require:"^bingMap"}}function bingMapDirective(){"use strict";return{template:"<div ng-transclude></div>",restrict:"EA",transclude:!0,scope:{credentials:"=",center:"=?",zoom:"=?",mapType:"=?"},controller:function(n,e){this.map=new Microsoft.Maps.Map(e[0],{credentials:n.credentials}),n.map=this.map,n.$watch("center",function(e){n.map.setView({animate:!0,center:e})}),n.$watch("zoom",function(e){n.map.setView({animate:!0,zoom:e})}),n.$watch("mapType",function(e){n.map.setView({animate:!0,mapTypeId:e})})}}}function pushpinDirective(){"use strict";function n(n,e,a,i){function t(){n.lat&&n.lng&&r.setLocation(new Microsoft.Maps.Location(n.lat,n.lng))}var r=new Microsoft.Maps.Pushpin;t(),i.map.entities.push(r),n.$watch("lat",t),n.$watch("lng",t),n.$watch("options",function(n){r.setOptions(n)}),Microsoft.Maps.Events.addHandler(r,"dragend",function(e){var a=e.entity.getLocation();n.lat=a.latitude,n.lng=a.longitude,n.$apply()})}return{link:n,template:"<div ng-transclude></div>",restrict:"EA",transclude:!0,scope:{options:"=?",lat:"=",lng:"="},require:"^bingMap"}}function tileLayerDirective(){"use strict";function n(n,e,a,i){function t(){r=new Microsoft.Maps.TileSource({uriConstructor:n.source}),n.options?angular.extend(n.options,{mercator:r}):n.options={mercator:r},o?o.setOptions(n.options):(o=new Microsoft.Maps.TileLayer(n.options),i.map.entities.push(o))}var r,o;n.$watch("options",t),n.$watch("source",t)}return{link:n,template:"<div ng-transclude></div>",restrict:"EA",transclude:!0,scope:{options:"=?",source:"="},require:"^bingMap"}}!function(){angular.module("angularBingMaps.config",[]).value("angularBingMaps.config",{debug:!0}),angular.module("angularBingMaps.directives",[]),angular.module("angularBingMaps.filters",[]),angular.module("angularBingMaps.services",[]),angular.module("angularBingMaps",["angularBingMaps.config","angularBingMaps.directives","angularBingMaps.filters","angularBingMaps.services"])}(),angular.module("angularBingMaps.directives").directive("drawingTools",drawingToolsDirective),angular.module("angularBingMaps.directives").directive("bingMap",bingMapDirective),angular.module("angularBingMaps.directives").directive("pushpin",pushpinDirective),angular.module("angularBingMaps.directives").directive("tileLayer",tileLayerDirective);
